<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corso di Reti e Telecomunicazioni</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* --- STILI GENERALI --- */
        body { background-color: #f0f2f5; font-family: 'Segoe UI', sans-serif; padding-bottom: 80px; }
        .main-header { background: white; padding: 30px; text-align: center; border-bottom: 1px solid #ccc; margin-bottom: 30px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        
        /* --- NAVIGAZIONE --- */
        .btn-nav { margin: 5px; border-radius: 20px; padding: 8px 20px; font-weight: 500; transition: all 0.2s; }
        .btn-nav:hover { transform: scale(1.05); }
        .tab-content { display: none; animation: fadeIn 0.4s; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- BOX & CARDS --- */
        .card-custom { background: white; border-radius: 10px; padding: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); margin-bottom: 20px; height: 100%; display: flex; flex-direction: column; }
        .tree-box { background: white; padding: 20px; border-radius: 8px; font-family: 'Consolas', monospace; border: 1px solid #ccc; }

        /* --- TAB 1: STAND ALONE --- */
        .air-gap-box { background-color: #fdf2f2; border-left: 5px solid #dc3546; padding: 20px; border-radius: 5px; }
        .stand-alone-circle { width: 160px; height: 160px; border: 3px dashed #dc3546; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto; position: relative; background: white; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .no-net-label { position: absolute; bottom: 20px; right: 25px; color: #dc3546; font-weight: bold; font-size: 0.8rem; }

        /* --- TAB 2: RETE LOCALE --- */
        .card-soho { border-left: 5px solid #e9ecef; }
        .card-lan { border-left: 5px solid #0d6efd; }
        .card-wan { border-left: 5px solid #d63384; }
        .pan-img-link img { transition: transform 0.3s; border: 2px solid transparent; }
        .pan-img-link img:hover { transform: scale(1.02); border-color: #ffc107; cursor: pointer; }

        /* --- TAB 3: ISO/OSI (TORRE & PDU) --- */
        .btn-layer { width: 100%; margin-bottom: 5px; font-weight: bold; color: white !important; text-align: center; border-radius: 5px; padding: 10px; text-decoration: none; display: block; transition: transform 0.2s; border: none; }
        .btn-layer:hover { transform: translateX(5px); filter: brightness(110%); }
        
        .bg-osi-7 { background-color: #dc3545; } 
        .bg-osi-6 { background-color: #fd7e14; } 
        .bg-osi-5 { background-color: #ffc107; color: black !important; } 
        .bg-osi-4 { background-color: #198754; } 
        .bg-osi-3 { background-color: #0d6efd; } 
        .bg-osi-2 { background-color: #6f42c1; } 
        .bg-osi-1 { background-color: #343a40; } 

        .sender-header { background-color: #dc3545; color: white; padding: 10px; border-radius: 5px 5px 0 0; font-weight: bold; text-align: center; }
        .receiver-footer { background-color: #0d6efd; color: white; padding: 10px; border-radius: 0 0 5px 5px; font-weight: bold; text-align: center; }

        .pdu-card { border: 2px solid #198754; background-color: white; overflow: hidden; border-radius: 8px; }
        .pdu-header { background-color: #198754; color: white; padding: 10px; font-weight: bold; text-align: center; }
        .pdu-body { padding: 20px; background-color: #f8fff9; }
        .table-pdu th { background-color: #212529; color: white; }
        .table-pdu td { vertical-align: middle; }

        /* --- BOTTONE VEDI SORGENTE (FISSO) --- */
        .btn-source-fixed {
            position: fixed; bottom: 20px; right: 20px;
            background-color: #212529; color: white;
            padding: 10px 20px; border-radius: 30px;
            font-weight: bold; box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            text-decoration: none; z-index: 9999;
            display: flex; align-items: center; gap: 8px;
            font-size: 0.9rem; transition: background-color 0.3s;
            cursor: pointer;
        }
        .btn-source-fixed:hover { background-color: #000; color: #fff; }
    </style>
</head>
<body>

    <div class="main-header">
        <h1>Corso di Reti e Telecomunicazioni</h1>
        <p class="text-muted">Un percorso guidato: dalla teoria di base alla simulazione pratica.</p>
    </div>

    <div class="container">
        <div class="text-center mb-2 small text-muted">SETTIMANA 1: TEORIA FONDAMENTALE</div>
        <div class="d-flex justify-content-center flex-wrap mb-3">
            <button onclick="showTab('tab1')" class="btn btn-primary btn-nav text-white" id="btn-tab1">1. Stand-Alone</button>
            <button onclick="showTab('tab2')" class="btn btn-light btn-nav border" id="btn-tab2">2. Rete Locale</button>
            <button onclick="showTab('tab3')" class="btn btn-light btn-nav border" id="btn-tab3">3. Modello ISO/OSI</button>
        </div>
        
        <div class="text-center mb-2 small text-muted">SETTIMANA 2: LABORATORIO ARDUINO</div>
        <div class="d-flex justify-content-center flex-wrap mb-4">
            <button onclick="showTab('tab4')" class="btn btn-success btn-nav text-white"><i class="fas fa-bolt"></i> Vai al Laboratorio</button>
            <button onclick="showTab('tab5')" class="btn btn-secondary btn-nav text-white"><i class="fas fa-map"></i> Mappa Sito</button>
        </div>

        <hr class="mb-5">

        <div id="tab1" class="tab-content active">
            <h2 class="mb-3">1. Il Computer "Stand-Alone" (L'Isola Digitale)</h2>
            <p class="lead text-secondary mb-5">
                In informatica, lo stato di <em>Stand-Alone</em> rappresenta la forma pi√π pura e primitiva di calcolo: una macchina che opera in completa autonomia, senza alcun collegamento verso l'esterno.
            </p>
            <div class="row align-items-center">
                <div class="col-md-7">
                    <div class="air-gap-box">
                        <h4 class="text-danger"><i class="fas fa-ban"></i> Il Concetto di "Air Gap"</h4>
                        <p class="mt-3 text-dark">Tra il computer e il resto del mondo c'√® letteralmente "aria". Non essendoci cavi o segnali radio, √® fisicamente impossibile per un hacker entrare da remoto.</p>
                    </div>
                </div>
                <div class="col-md-5 text-center mt-4 mt-md-0">
                    <div class="stand-alone-circle">
                        <i class="fas fa-desktop fa-5x" style="color: #5a7dff;"></i>
                        <span class="no-net-label">NO NET</span>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab2" class="tab-content">
            <h2 class="mb-2">Dallo Stand-Alone alla Rete Domestica</h2>
            <p class="text-muted mb-4">Quando i dispositivi cessano di essere "soli" (Stand-Alone) e vengono collegati tra loro, formano una rete. Nelle nostre case parliamo spesso di ambiente SOHO.</p>
            <div class="row">
                <div class="col-md-4">
                    <div class="card-custom card-soho">
                        <h5 class="fw-bold text-dark">Cos'√® SOHO?</h5>
                        <p class="small text-muted mt-2">Acronimo di <strong>Small Office / Home Office</strong>.<br>Indica un ambiente ibrido (casa o piccolo ufficio) dove convivono dispositivi personali e lavorativi.</p>
                    </div>
                    <a href="soho_approfondimento.html" class="btn btn-warning text-white w-100 mt-3 mb-3">Vai al file: SOHO</a>
                </div>
                <div class="col-md-4">
                    <div class="card-custom card-lan">
                        <h5 class="fw-bold text-primary">Cos'√® una LAN?</h5>
                        <p class="small text-muted mt-2">Acronimo di <strong>Local Area Network</strong>.<br>√à la rete "dentro casa tua". Tutti i tuoi dispositivi collegati al router formano la LAN.</p>
                        <a href="lan_approfondimento.html" class="btn btn-primary w-100 mt-auto rounded-pill"><i class="fas fa-search"></i> Vai al file: LAN</a>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card-custom card-wan">
                        <h5 class="fw-bold" style="color: #d63384;">Cos'√® una WAN?</h5>
                        <p class="small text-muted mt-2">Acronimo di <strong>Wide Area Network</strong>.<br>√à la "Rete Geografica", ovvero <strong>Internet</strong>.<br>√à tutto ci√≤ che sta "fuori" dal tuo modem.</p>
                        <a href="wan_approfondimento.html" class="btn text-white w-100 mt-auto rounded-pill" style="background-color: #d63384; border:none;"><i class="fas fa-globe"></i> Vai al file: WAN</a>
                    </div>
                </div>
            </div>
            <hr class="my-5">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h3 style="color: #d63384;">1. La P.A.N. (Personal Area Network)</h3>
                    <p class="text-muted small">Prima ancora della rete di casa, esiste la rete "intorno a te".</p>
                    <ul class="small mt-3">
                        <li class="mb-2"><strong>Definizione:</strong> Rete personale che copre pochi metri.</li>
                        <li><strong>Esempi:</strong> Mouse Bluetooth collegato al PC, Smartwatch collegato al telefono.</li>
                    </ul>
                </div>
                <div class="col-md-6 text-center">
                    <a href="https://itrelease.com/2018/07/advantages-and-disadvantages-of-personal-area-network-pan/" target="_blank" class="pan-img-link" title="Approfondimento su itrelease.com">
                        <img src="pan_network.png" alt="Schema PAN" class="img-fluid" style="max-height: 250px;">
                    </a>
                    <p class="small text-warning mt-2"><i class="fas fa-hand-pointer"></i> Clicca sull'immagine per approfondire</p>
                </div>
            </div>
        </div>

        <div id="tab3" class="tab-content">
            <h2 class="mb-4">Il Modello ISO/OSI e il Flusso dei Dati</h2>
            
            <div class="row">
                <div class="col-md-4">
                    <div class="bg-white p-3 border rounded shadow-sm">
                        <div class="text-center mb-3">
                            <span class="badge bg-light text-dark border">Clicca sui livelli üëá</span>
                        </div>
                        <div class="sender-header">‚¨á Sender (Trasmettitore)</div>
                        <a href="livello7.html" class="btn-layer bg-osi-7">7. Applicazione</a>
                        <a href="livello6.html" class="btn-layer bg-osi-6">6. Presentazione</a>
                        <a href="livello5.html" class="btn-layer bg-osi-5">5. Sessione</a>
                        <a href="livello4.html" class="btn-layer bg-osi-4">4. Trasporto</a>
                        <a href="livello3.html" class="btn-layer bg-osi-3">3. Rete</a>
                        <a href="livello2.html" class="btn-layer bg-osi-2">2. Collegamento</a>
                        <a href="livello1.html" class="btn-layer bg-osi-1">1. Fisico</a>
                        <div class="receiver-footer">‚¨Ü Receiver (Ricevitore)</div>
                    </div>
                </div>

                <div class="col-md-8">
                    <div class="pdu-card shadow-sm h-100">
                        <div class="pdu-header">
                            <i class="fas fa-box-open"></i> Incapsulamento & PDU (Protocol Data Unit)
                        </div>
                        <div class="pdu-body">
                            <p class="small">I dati non viaggiano "nudi". Come una Matrioska, ogni livello aggiunge una "busta" (Intestazione/Header) intorno ai dati. Questo √® l'Incapsulamento.</p>
                            
                            <h6 class="text-success mt-3"><i class="fas fa-scroll"></i> Come cambiano nome i dati?</h6>
                            
                            <table class="table table-bordered table-pdu text-center small mt-2">
                                <thead>
                                    <tr>
                                        <th>Livello</th>
                                        <th>Nome P.D.U.</th>
                                        <th>Metafora</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr><td>7, 6, 5</td><td><strong>DATI</strong></td><td>Il foglio scritto (La lettera)</td></tr>
                                    <tr><td class="bg-osi-4 text-white">4. Trasporto</td><td class="text-danger fw-bold">SEGMENTO</td><td>La busta (controllo integrit√†)</td></tr>
                                    <tr><td class="bg-osi-3 text-white">3. Rete</td><td class="text-danger fw-bold">PACCHETTO</td><td>L'indirizzo sulla busta (IP)</td></tr>
                                    <tr><td class="bg-osi-2 text-white">2. Colleg.</td><td class="text-danger fw-bold">FRAME (Trama)</td><td>Il sacco postale sigillato (MAC)</td></tr>
                                    <tr><td class="bg-osi-1 text-white">1. Fisico</td><td class="text-danger fw-bold">BIT</td><td>Segnali elettrici/luce sul cavo</td></tr>
                                </tbody>
                            </table>

                            <div class="row mt-4 gx-2">
                                <div class="col-6">
                                    <div class="d-flex align-items-center mb-1 text-danger fw-bold small"><i class="fas fa-circle me-1"></i> Trasmettitore (Sender)</div>
                                    <div class="border border-danger p-2 rounded bg-white text-center small text-muted mb-1">‚¨á Incapsulamento (Aggiunge header)</div>
                                    <div class="border border-danger p-2 rounded bg-white text-center small text-muted mb-2">‚¨á Da Dati a Bit</div>
                                    <div class="alert alert-danger p-2 small text-center m-0">Il pacchetto diventa pi√π grande scendendo!</div>
                                </div>
                                <div class="col-6">
                                    <div class="d-flex align-items-center mb-1 text-primary fw-bold small"><i class="fas fa-circle me-1"></i> Ricevitore (Receiver)</div>
                                    <div class="border border-primary p-2 rounded bg-white text-center small text-muted mb-1">‚¨Ü Decapsulamento (Toglie header)</div>
                                    <div class="border border-primary p-2 rounded bg-white text-center small text-muted mb-2">‚¨Ü Da Bit a Dati</div>
                                    <div class="alert alert-primary p-2 small text-center m-0">Legge l'indirizzo e butta la busta.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab4" class="tab-content">
            <h2 class="mb-4">‚ö° Laboratorio Arduino</h2>
            <div class="row">
                <div class="col-md-6">
                    <div class="card-custom border-success">
                        <h5>Lab 1: Ping Loopback</h5>
                        <p class="small text-muted">Testa la scheda di rete locale.</p>
                        <a href="lab_ping.html" class="btn btn-success">Avvia Lab 1</a>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card-custom border-success">
                        <h5>Lab 2: Client/Server</h5>
                        <p class="small text-muted">Simula una connessione web.</p>
                        <a href="lab_cs.html" class="btn btn-outline-success">Avvia Lab 2</a>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab5" class="tab-content">
            <h3>üó∫Ô∏è Mappa File</h3>
            <div class="tree-box mt-3">
                <div class="text-warning fw-bold">üìÇ Root</div>
                <div class="tree-line">
                    <div>üìÑ index.html</div>
                    <div>üìÑ soho_approfondimento.html</div>
                    <div>üìÑ lan_approfondimento.html</div>
                    <div>üìÑ wan_approfondimento.html</div>
                    <div>üìÑ livello7.html ... livello1.html</div>
                    <div>‚ö° lab_ping.html, lab_cs.html</div>
                </div>
            </div>
        </div>

    </div>

    <a href="#" class="btn-source-fixed" onclick="showSource(); return false;">
        <i class="fas fa-code"></i> Vedi Sorgente
    </a>

    <div class="modal fade" id="sourceModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-dark text-white">
                    <h5 class="modal-title">Codice Sorgente Pagina</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body bg-light">
                    <pre><code id="sourceCodeText" class="text-dark" style="white-space: pre-wrap; font-family: monospace;"></code></pre>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Funzione Tab
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.btn-nav').forEach(btn => {
                btn.classList.remove('btn-primary', 'text-white');
                btn.classList.add('btn-light', 'border');
            });
            document.getElementById(tabId).classList.add('active');
            var btn = document.getElementById('btn-' + tabId);
            if(btn) {
                btn.classList.remove('btn-light', 'border');
                btn.classList.add('btn-primary', 'text-white');
            }
        }

        // Funzione Vedi Sorgente (Nuova)
        function showSource() {
            // Prende tutto l'HTML della pagina
            var htmlContent = document.documentElement.outerHTML;
            // Lo inserisce nel box del modale
            document.getElementById('sourceCodeText').textContent = htmlContent;
            // Mostra il modale usando Bootstrap
            var myModal = new bootstrap.Modal(document.getElementById('sourceModal'));
            myModal.show();
        }
    </script>
</body>
</html>
