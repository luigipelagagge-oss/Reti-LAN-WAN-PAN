<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mezzi Trasmissivi - Reti di Telecomunicazioni</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        body {
            background-color: #f0f2f5;
            font-family: 'Segoe UI', sans-serif;
            padding: 20px;
        }

        .main-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            text-align: center;
        }

        h1 { 
            color: #0d6efd; 
            font-weight: 800; 
            margin-bottom: 20px;
        }
        
        .subtitle {
            color: #6c757d;
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        /* TABELLA 3 COLONNE */
        .three-column-table {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .column-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .column-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .column-image {
            width: 100%;
            height: 200px;
            object-fit: contain;
            border-radius: 10px;
            margin-bottom: 15px;
            background: #f8f9fa;
            padding: 10px;
        }

        .column-title {
            color: #0d6efd;
            font-weight: 700;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .column-content {
            flex-grow: 1;
            width: 100%;
        }

        /* TABELLA CATEGORIE */
        .categories-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .categories-table th {
            background: #f0f8ff;
            padding: 8px;
            text-align: left;
            font-size: 0.85rem;
            border-bottom: 2px solid #dee2e6;
        }

        .categories-table td {
            padding: 8px;
            border-bottom: 1px solid #e9ecef;
            font-size: 0.85rem;
        }

        .categories-table tr:hover {
            background-color: #f8f9fa;
        }

        /* BOTTONI LINK */
        .link-button {
            display: inline-block;
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 8px 15px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
            margin-top: 10px;
            transition: all 0.3s;
        }

        .link-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
            color: white;
        }

        .link-button-blue {
            background: linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%);
        }

        .link-button-blue:hover {
            box-shadow: 0 4px 12px rgba(13, 110, 253, 0.3);
        }

        .info-box {
            background-color: #e3f2fd;
            border-left: 5px solid #0d6efd;
            padding: 20px;
            border-radius: 10px;
            margin: 30px 0;
        }

        .nav-footer { 
            margin-top: 40px; 
            display: flex; 
            justify-content: center; 
            flex-wrap: wrap;
            gap: 15px; 
        }
        
        .btn-nav { 
            padding: 10px 20px; 
            border-radius: 50px; 
            text-decoration: none; 
            font-weight: bold; 
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .btn-back { 
            background-color: #6c757d; 
            color: white; 
        }
        
        .btn-back:hover {
            background-color: #5a6268;
            transform: translateY(-2px);
        }
        
        .btn-tcp {
            background-color: #198754;
            color: white;
        }
        
        .btn-tcp:hover {
            background-color: #157347;
            transform: translateY(-2px);
        }

        .btn-osi {
            background-color: #0d6efd;
            color: white;
        }
        
        .btn-osi:hover {
            background-color: #0b5ed7;
            transform: translateY(-2px);
        }
        
        .btn-source { 
            border: 2px solid #333; 
            color: #333; 
            font-family: monospace; 
        }
        
        .btn-source:hover { 
            background-color: #333; 
            color: white;
            transform: translateY(-2px);
        }
        
        .btn-icon {
            margin-right: 8px;
            font-size: 1.1em;
        }

        /* Bottone sorgente fisso */
        .btn-source-fixed {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            border-radius: 50px;
            padding: 10px 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        @media (max-width: 992px) {
            .three-column-table {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .btn-source-fixed {
                bottom: 70px;
                right: 15px;
            }
            
            .nav-footer {
                flex-direction: column;
                align-items: center;
            }
            
            .btn-nav {
                width: 90%;
                max-width: 300px;
            }
        }

        /* TECNICA TWISTED */
        .twist-technique {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .twist-item {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 8px;
        }

        .twist-icon {
            color: #0d6efd;
            font-size: 1.5rem;
        }
    </style>
</head>
<body>

    <div class="main-container">
        <div class="header-card">
            <h1><i class="bi bi-ethernet"></i> Mezzi Trasmissivi nelle Reti</h1>
            <p class="subtitle">Dai cavi in rame alla fibra ottica, passando per le onde radio</p>
            
            <div class="info-box">
                <p>I <strong>mezzi trasmissivi</strong> sono i canali fisici attraverso cui viaggiano i dati nelle reti di telecomunicazioni. La scelta del mezzo adeguato dipende da diversi fattori: distanza, banda richiesta, costo, immunit√† ai disturbi e flessibilit√† di installazione.</p>
                <p class="mb-0"><strong>Livello 1 del modello ISO/OSI</strong> e parte del livello <strong>Accesso alla Rete</strong> in TCP/IP.</p>
            </div>
        </div>

        <!-- CAVO UTP - SEZIONE PRINCIPALE -->
        <div style="margin-bottom: 30px;">
            <h3 class="category-title" style="color: #0d6efd; border-bottom: 3px solid #0d6efd; padding-bottom: 10px;">
                <i class="bi bi-cable"></i> Cavo UTP (Unshielded Twisted Pair)
            </h3>
            
            <div class="technical-details" style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0;">
                <p><strong>Definizione:</strong> Cavo composto da 4 coppie di fili di rame intrecciati (twisted pair) senza schermatura. Il termine "twisted" (intrecciato) √® fondamentale per ridurre le interferenze.</p>
            </div>

            <!-- TABELLA 3 COLONNE -->
            <div class="three-column-table">
                <!-- COLONNA 1: CAVO UTP -->
                <div class="column-card">
                    <h4 class="column-title">Struttura Fisica</h4>
                    <img src="198-Physical-layer-UTP.jpg" 
                         alt="Struttura fisica del cavo UTP" 
                         class="column-image"
                         onerror="this.src='https://via.placeholder.com/400x200?text=Struttura+UTP'">
                    <div class="column-content">
                        <p><strong>4 coppie twisted:</strong></p>
                        <ul style="text-align: left; padding-left: 20px; font-size: 0.9rem;">
                            <li>Blu-Bianco/Blu</li>
                            <li>Arancio-Bianco/Arancio</li>
                            <li>Verde-Bianco/Verde</li>
                            <li>Marrone-Bianco/Marrone</li>
                        </ul>
                        <a href="https://www.fiberoptics4sale.com/blogs/archive-posts/95046918-what-is-unshielded-twisted-pair-utp-cable" 
                           target="_blank" 
                           rel="noopener noreferrer" 
                           class="link-button link-button-blue">
                            <i class="bi bi-box-arrow-up-right"></i> Clicca per approfondimenti
                        </a>
                    </div>
                </div>

                <!-- COLONNA 2: CATEGORIE UTP -->
                <div class="column-card">
                    <h4 class="column-title">Categorie UTP</h4>
                    <img src="CategorieUTP.png" 
                         alt="Categorie UTP a confronto" 
                         class="column-image"
                         onerror="this.src='https://via.placeholder.com/400x200?text=Categorie+UTP'">
                    <div class="column-content">
                        <table class="categories-table">
                            <thead>
                                <tr>
                                    <th>Categoria</th>
                                    <th>Banda</th>
                                    <th>Max Velocit√†</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Cat 5e</strong></td>
                                    <td>100 MHz</td>
                                    <td>1 Gbps</td>
                                </tr>
                                <tr>
                                    <td><strong>Cat 6</strong></td>
                                    <td>250 MHz</td>
                                    <td>10 Gbps*</td>
                                </tr>
                                <tr>
                                    <td><strong>Cat 6A</strong></td>
                                    <td>500 MHz</td>
                                    <td>10 Gbps</td>
                                </tr>
                                <tr>
                                    <td><strong>Cat 7</strong></td>
                                    <td>600 MHz</td>
                                    <td>10 Gbps</td>
                                </tr>
                            </tbody>
                        </table>
                        <p style="font-size: 0.8rem; margin-top: 10px; color: #666;">
                            <i>* fino a 55 metri per Cat 6</i>
                        </p>
                    </div>
                </div>

                <!-- COLONNA 3: CONNETTORE RJ45 -->
                <div class="column-card">
                    <h4 class="column-title">Connettore RJ45</h4>
                    <img src="RJ45-pinout-diagram-T568B-1.jpg" 
                         alt="Pinout RJ45 standard T568B" 
                         class="column-image"
                         onerror="this.src='https://via.placeholder.com/400x200?text=Pinout+RJ45'">
                    <div class="column-content">
                        <p><strong>Standard T568B:</strong></p>
                        <ul style="text-align: left; padding-left: 20px; font-size: 0.9rem;">
                            <li>1: Bianco/Arancio</li>
                            <li>2: Arancione</li>
                            <li>3: Bianco/Verde</li>
                            <li>4: Blu</li>
                            <li>5: Bianco/Blu</li>
                            <li>6: Verde</li>
                            <li>7: Bianco/Marrone</li>
                            <li>8: Marrone</li>
                        </ul>
                        <a href="https://www.thetechmentor.com/posts/easy-rj45-wiring-with-rj45-pinout-pic/" 
                           target="_blank" 
                           rel="noopener noreferrer" 
                           class="link-button">
                            <i class="bi bi-tools"></i> Clicca per tutorial di cablaggio
                        </a>
                    </div>
                </div>
            </div>

            <!-- TECNICA TWISTED -->
            <div class="twist-technique">
                <h5><i class="bi bi-arrow-repeat"></i> La Tecnica "Twisted": Perch√© √® cos√¨ importante?</h5>
                
                <div class="twist-item">
                    <div class="twist-icon">
                        <i class="bi bi-shield-check"></i>
                    </div>
                    <div>
                        <strong>Riduzione interferenze:</strong> L'intreccio annulla i campi magnetici opposti
                    </div>
                </div>
                
                <div class="twist-item">
                    <div class="twist-icon">
                        <i class="bi bi-soundwave"></i>
                    </div>
                    <div>
                        <strong>Minimizza il crosstalk:</strong> Riduce l'interferenza tra coppie adiacenti
                    </div>
                </div>
                
                <div class="twist-item">
                    <div class="twist-icon">
                        <i class="bi bi-lightning"></i>
                    </div>
                    <div>
                        <strong>Passo di intreccio variabile:</strong> Ogni coppia ha un diverso passo per ulteriore protezione
                    </div>
                </div>
            </div>
        </div>

        <!-- MEZZI GUIDATI -->
        <div class="category-card">
            <h3 class="category-title">
                <i class="bi bi-cable"></i> Mezzi Guidati (Wired)
            </h3>
            
            <p>I mezzi guidati utilizzano un supporto fisico per convogliare i segnali da un punto all'altro. Offrono generalmente maggiore sicurezza e affidabilit√†.</p>
            
            <!-- Fibra Ottica -->
            <div style="margin-bottom: 30px;">
                <h4 style="color: #6610f2; display: flex; align-items: center; gap: 10px;">
                    <i class="bi bi-brightness-high"></i> Fibra Ottica
                </h4>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0; font-size: 0.9rem;">
                    <span class="badge-category" style="background: #e0cffc; color: #6610f2;">Multimodale</span>
                    <span class="badge-category" style="background: #cfe2ff; color: #084298;">Monomodale</span>
                    <p><strong>Caratteristiche:</strong> Utilizza impulsi di luce (fotoni) attraverso filamenti di vetro o plastica. Offre banda elevatissima e immunit√† totale alle interferenze elettromagnetiche.</p>
                </div>
            </div>
            
            <!-- Cavo Coassiale -->
            <div>
                <h4 style="color: #dc3545; display: flex; align-items: center; gap: 10px;">
                    <i class="bi bi-tv"></i> Cavo Coassiale
                </h4>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0; font-size: 0.9rem;">
                    <span class="badge-category" style="background: #f8d7da; color: #842029;">RG-6</span>
                    <span class="badge-category" style="background: #f5c6cb; color: #721c24;">RG-59</span>
                    <p><strong>Caratteristiche:</strong> Un conduttore centrale circondato da una guaina isolante, una calza di schermatura e una guaina esterna. Utilizzato principalmente per TV via cavo e connessioni broadband.</p>
                </div>
            </div>
        </div>

        <!-- MEZZI NON GUIDATI -->
        <div class="category-card">
            <h3 class="category-title">
                <i class="bi bi-wifi"></i> Mezzi Non Guidati (Wireless)
            </h3>
            
            <p>I mezzi non guidati utilizzano l'aria o il vuoto come mezzo di propagazione. Offrono mobilit√† e facilit√† di installazione.</p>
            
            <div class="three-column-table" style="margin: 20px 0;">
                <div class="column-card">
                    <h4 class="column-title">Wi-Fi</h4>
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Wireless_icon.svg/512px-Wireless_icon.svg.png" 
                         alt="Wi-Fi" 
                         class="column-image"
                         onerror="this.src='https://via.placeholder.com/400x200?text=Wi-Fi'">
                    <p>IEEE 802.11 (2.4/5/6 GHz)</p>
                </div>
                
                <div class="column-card">
                    <h4 class="column-title">Bluetooth</h4>
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/97/Bluetooth.svg/512px-Bluetooth.svg.png" 
                         alt="Bluetooth" 
                         class="column-image"
                         onerror="this.src='https://via.placeholder.com/400x200?text=Bluetooth'">
                    <p>Personal Area Network</p>
                </div>
                
                <div class="column-card">
                    <h4 class="column-title">Satellite</h4>
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Satellite_icon.svg/512px-Satellite_icon.svg.png" 
                         alt="Satellite" 
                         class="column-image"
                         onerror="this.src='https://via.placeholder.com/400x200?text=Satellite'">
                    <p>Comunicazioni a lunga distanza</p>
                </div>
            </div>
        </div>

        <!-- TABELLA COMPARATIVA -->
        <div class="table-comparison">
            <table class="table">
                <thead>
                    <tr>
                        <th width="25%">Mezzo Trasmissivo</th>
                        <th width="25%">Banda Tipica</th>
                        <th width="25%">Distanza Max</th>
                        <th width="25%">Vantaggi / Svantaggi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>UTP Cat.6</strong><br><small>Doppino telefonico</small></td>
                        <td>Fino a 10 Gbps<br><small>(a 55m)</small></td>
                        <td>100 metri<br><small>(per Gigabit Ethernet)</small></td>
                        <td><strong>+</strong> Economico, facile installazione<br><strong>‚Äì</strong> Suscettibile a interferenze</td>
                    </tr>
                    <tr>
                        <td><strong>Fibra Monomodale</strong><br><small>SMF</small></td>
                        <td>10+ Gbps<br><small>fino a Terabit</small></td>
                        <td>40+ km<br><small>senza ripetitori</small></td>
                        <td><strong>+</strong> Banda altissima, immunit√† EM<br><strong>‚Äì</strong> Costo elevato, installazione complessa</td>
                    </tr>
                    <tr>
                        <td><strong>Wi-Fi 6</strong><br><small>802.11ax</small></td>
                        <td>Fino a 9.6 Gbps<br><small>teorico</small></td>
                        <td>50-100m<br><small>indoor</small></td>
                        <td><strong>+</strong> Mobilit√†, no cablaggio<br><strong>‚Äì</strong> Interferenze, sicurezza</td>
                    </tr>
                    <tr>
                        <td><strong>Cavo Coassiale</strong><br><small>RG-6</small></td>
                        <td>Fino a 10 Gbps<br><small>per DOCSIS 3.1</small></td>
                        <td>500m<br><small>per segnale video</small></td>
                        <td><strong>+</strong> Buona schermatura<br><strong>‚Äì</strong> Ingombrante, costoso</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- INFORMAZIONI TECNICHE AGGIUNTIVE -->
        <div class="info-box">
            <h5><i class="bi bi-gear-wide-connected"></i> Aspetti Tecnici Critici</h5>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 15px;">
                <div style="background: white; padding: 15px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                    <h6 style="color: #0d6efd;"><i class="bi bi-lightning-charge"></i> Attenuazione</h6>
                    <p>Riduzione della potenza del segnale con la distanza. La fibra ottica ha attenuazione minore rispetto al rame.</p>
                </div>
                <div style="background: white; padding: 15px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                    <h6 style="color: #0d6efd;"><i class="bi bi-broadcast"></i> Interferenze</h6>
                    <p>I cavi UTP sono suscettibili a interferenze elettromagnetiche (EMI). Le fibre ottiche ne sono immuni.</p>
                </div>
                <div style="background: white; padding: 15px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                    <h6 style="color: #0d6efd;"><i class="bi bi-speedometer2"></i> Banda Larghezza</h6>
                    <p>Quantit√† di dati trasmissibili nell'unit√† di tempo. La fibra ottica offre la banda pi√π elevata.</p>
                </div>
            </div>
        </div>

        <!-- BOTTONI DI NAVIGAZIONE -->
        <div class="nav-footer">
            <a href="confronto_tcp.html" class="btn-nav btn-back">
                <span class="btn-icon"><i class="bi bi-arrow-left"></i></span> Torna al Confronto
            </a>
            
            <a href="tcp_ip_spiegazione.html" class="btn-nav btn-tcp">
                <span class="btn-icon"><i class="bi bi-globe"></i></span> Vedi TCP/IP
            </a>
            
            <a href="iso_osi_spiegazione.html" class="btn-nav btn-osi">
                <span class="btn-icon"><i class="bi bi-layers"></i></span> Vedi ISO/OSI
            </a>
            
            <a onclick="mostraCodice()" class="btn-nav btn-source">
                <span class="btn-icon"><i class="bi bi-code-slash"></i></span> Vedi Sorgente HTML
            </a>
        </div>

    </div>

    <!-- Bottone Vedi Sorgente Fisso (mobile friendly) -->
    <div class="btn-source-fixed">
        <button class="btn btn-dark shadow-lg rounded-pill px-4 d-flex align-items-center" onclick="mostraCodice()" style="font-weight: 600;">
            <i class="bi bi-code-slash me-2"></i> Sorgente
        </button>
    </div>

    <!-- ========== FOOTER CON FONTI ========== -->
    <div style="margin-top: 40px; padding: 20px; background: #f8f9fa; border-top: 3px solid #0d6efd; text-align: center; border-radius: 15px;">
        <a href="https://www.fiberoptics4sale.com/blogs/archive-posts/95046918-what-is-unshielded-twisted-pair-utp-cable" 
           target="_blank" 
           rel="noopener noreferrer" 
           style="padding: 10px 25px; background: linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%); color: white; text-decoration: none; border-radius: 25px; font-weight: 600; display: inline-block; margin: 0 10px 15px 10px; transition: all 0.3s;">
            <i class="bi bi-book me-2"></i> Approfondimento UTP
        </a>
        
        <a href="https://www.thetechmentor.com/posts/easy-rj45-wiring-with-rj45-pinout-pic/" 
           target="_blank" 
           rel="noopener noreferrer" 
           style="padding: 10px 25px; background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white; text-decoration: none; border-radius: 25px; font-weight: 600; display: inline-block; margin: 0 10px 15px 10px; transition: all 0.3s;">
            <i class="bi bi-tools me-2"></i> Tutorial Cablaggio RJ45
        </a>
        
        <a href="fonti_bibliografia.html" 
           style="padding: 10px 25px; background: linear-gradient(135deg, #6f42c1 0%, #6610f2 100%); color: white; text-decoration: none; border-radius: 25px; font-weight: 600; display: inline-block; margin: 0 10px 15px 10px; transition: all 0.3s;">
            <i class="bi bi-journal-text me-2"></i> Tutte le fonti
        </a>
        
        <p style="color: #666; font-size: 0.9em; margin: 5px 0; line-height: 1.6;">
            <strong>Uso didattico</strong> - Corso di Reti e Telecomunicazioni<br>
            Luigi Pelagagge - Art. 70 L. 633/1941<br>
            <small class="text-muted">¬© Materiale didattico per uso educativo non commerciale</small>
        </p>
    </div>
    <!-- ========== FINE FOOTER ========== -->

    <script>
        // Funzione per mostrare il codice sorgente
        function mostraCodice() {
            const html = document.documentElement.outerHTML;
            const win = window.open("", "Sorgente", "width=900,height=700");
            
            win.document.write(`
                <html>
                <head>
                    <title>Sorgente Pagina - Mezzi Trasmissivi</title>
                    <style>
                        body { font-family: 'Segoe UI', sans-serif; padding: 20px; background: #f8f9fa; }
                        h3 { color: #343a40; margin-bottom: 20px; }
                        pre { 
                            background: white; 
                            padding: 20px; 
                            border-radius: 10px; 
                            border: 1px solid #ddd;
                            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
                            overflow: auto; 
                            max-height: 500px;
                            font-family: 'Courier New', monospace;
                            font-size: 14px;
                            line-height: 1.5;
                        }
                        .btn-close {
                            background: #0d6efd;
                            color: white;
                            border: none;
                            padding: 10px 25px;
                            border-radius: 25px;
                            cursor: pointer;
                            font-weight: bold;
                            margin-top: 20px;
                        }
                        .btn-close:hover { background: #0b5ed7; }
                    </style>
                </head>
                <body>
                    <h3>üìÑ Codice Sorgente - Mezzi Trasmissivi</h3>
                    <pre>${html.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</pre>
                    <div style="text-align: center;">
                        <button class="btn-close" onclick="window.close()">Chiudi Finestra</button>
                    </div>
                </body>
                </html>
            `);
            
            win.document.close();
        }

        // Gestione immagini mancanti
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                img.onerror = function() {
                    const alt = this.alt || 'Immagine';
                    this.src = \`https://via.placeholder.com/400x200?text=\${encodeURIComponent(alt)}\`;
                };
            });
        });
    </script>
</body>
</html>
