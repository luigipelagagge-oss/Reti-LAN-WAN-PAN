<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modello TCP/IP - Spiegazione Completa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        body { 
            background: #f8f9fa; 
            font-family: 'Segoe UI', sans-serif; 
        }
        
        .section-content { display: none; }
        .section-content.active { 
            display: block; 
            animation: fadeIn 0.4s; 
        }
        
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(10px); } 
            to { opacity: 1; transform: translateY(0); } 
        }

        .btn-outline-primary { 
            background-color: #fff !important; 
            color: #0d6efd !important; 
            border: 2px solid #0d6efd !important; 
            font-weight: 600; 
        }
        
        .btn-primary.active { 
            background-color: #0d6efd !important; 
            color: #fff !important; 
            border: 2px solid #0d6efd !important; 
            font-weight: 600; 
        }

        .card-net { 
            border-radius: 12px; 
            transition: transform 0.3s, box-shadow 0.3s; 
            height: 100%; 
            border: 1px solid #dee2e6; 
        }
        
        .card-net:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 8px 15px rgba(0,0,0,0.1); 
        }
        
        /* TORRE TCP/IP - Stile simile a ISO/OSI ma con 4 livelli */
        .tcp-tower {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            margin: 30px 0;
        }
        
        .tcp-level {
            padding: 25px;
            color: white;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            position: relative;
            transition: all 0.3s;
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        
        .tcp-level:hover {
            padding-left: 35px;
            transform: scale(1.02);
        }
        
        .tcp-level.active {
            box-shadow: inset 5px 0 0 rgba(255,255,255,0.8);
        }
        
        .level-number {
            background: rgba(255,255,255,0.2);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            margin-right: 20px;
            flex-shrink: 0;
        }
        
        .level-content {
            flex-grow: 1;
        }
        
        .level-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .level-subtitle {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        /* Colori livelli TCP/IP */
        .tcp-level-4 { 
            background: linear-gradient(135deg, #e74c3c, #c0392b); /* Rosso - Applicazione */
        }
        
        .tcp-level-3 { 
            background: linear-gradient(135deg, #e67e22, #d35400); /* Arancione - Trasporto */
        }
        
        .tcp-level-2 { 
            background: linear-gradient(135deg, #27ae60, #229954); /* Verde - Internet */
        }
        
        .tcp-level-1 { 
            background: linear-gradient(135deg, #3498db, #2980b9); /* Blu - Accesso Rete */
        }
        
        /* Bottoni protocolli con stile ISO/OSI */
        .protocols-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            margin: 20px 0;
        }
        
        .protocol-btn {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            margin-bottom: 10px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            background: #f8f9fa;
            transition: all 0.3s;
            cursor: pointer;
            width: 100%;
            text-align: left;
            color: #333;
        }
        
        .protocol-btn:hover {
            transform: translateX(10px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-decoration: none;
            color: #333;
        }
        
        .protocol-btn.active {
            border-color: #0d6efd;
            background: #e7f1ff;
        }
        
        .protocol-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 1.2em;
            color: white;
            flex-shrink: 0;
        }
        
        .protocol-name {
            font-weight: bold;
            font-size: 1.1em;
        }
        
        .protocol-desc {
            font-size: 0.9em;
            color: #666;
            margin-top: 3px;
        }
        
        /* Area dettagli */
        .details-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            margin: 30px 0;
            min-height: 400px;
        }
        
        .details-header {
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 20px;
            margin-bottom: 25px;
        }
        
        .detail-item {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #f1f1f1;
        }
        
        .detail-label {
            font-weight: bold;
            color: #495057;
            margin-bottom: 8px;
            font-size: 0.95em;
        }
        
        .detail-value {
            color: #212529;
            line-height: 1.6;
        }
        
        /* Stili specifici per colori dei protocolli */
        .applicazione .protocol-icon { background: #e74c3c; }
        .trasporto .protocol-icon { background: #e67e22; }
        .internet .protocol-icon { background: #27ae60; }
        .accesso .protocol-icon { background: #3498db; }
        
        /* Footer */
        .footer-didattico {
            margin-top: 60px;
            padding: 25px;
            background: #f8f9fa;
            border-top: 3px solid #0d6efd;
            text-align: center;
            border-radius: 15px 15px 0 0;
        }
        
        .btn-fonti {
            padding: 12px 30px;
            background: linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 15px;
            transition: all 0.3s;
        }
        
        .btn-fonti:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(13, 110, 253, 0.3);
            color: white;
        }
        
        /* Bottone sorgente fisso */
        .btn-source {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            border-radius: 50px;
            padding: 10px 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        /* Tabella comparativa */
        .comparison-table {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .comparison-table th {
            background: #f8f9fa;
            font-weight: 600;
            padding: 15px;
            border-bottom: 2px solid #dee2e6;
        }
        
        .comparison-table td {
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        /* Animazioni */
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .tcp-level {
                padding: 20px 15px;
            }
            
            .protocol-btn {
                padding: 12px 15px;
            }
            
            .protocol-icon {
                width: 35px;
                height: 35px;
                font-size: 1em;
            }
            
            .details-container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>

    <div class="container py-4">
        <!-- Header -->
        <header class="text-center mb-4">
            <h1 class="fw-bold text-primary">üåê Modello TCP/IP - Spiegazione Completa</h1>
            <p class="text-muted">Il modello a 4 livelli che ha dato vita a Internet</p>
        </header>

        <!-- Navigazione principale -->
        <nav class="text-center mb-4">
            <div class="btn-group shadow-sm" role="group">
                <a href="index.html" class="btn btn-outline-primary">
                    <i class="bi bi-house"></i> Dashboard
                </a>
                <a href="confronto_tcp.html" class="btn btn-outline-primary">
                    <i class="bi bi-columns"></i> Confronto OSI/TCP
                </a>
                <a href="iso_osi_spiegazione.html" class="btn btn-outline-primary">
                    <i class="bi bi-layers"></i> Vedi ISO/OSI
                </a>
                <a href="fonti_bibliografia.html" class="btn btn-outline-primary">
                    <i class="bi bi-book"></i> Fonti
                </a>
                <a href="mezzi_trasmissivi.html" class="btn btn-outline-success">
                    <i class="bi bi-router"></i> Mezzi Trasmissivi
                </a>
            </div>
        </nav>

        <!-- Contenuto principale -->
        <main class="bg-white p-4 p-md-5 shadow rounded-4 border">
            
            <!-- Introduzione -->
            <div class="row mb-5">
                <div class="col-12">
                    <div class="alert alert-info">
                        <h5><i class="bi bi-info-circle"></i> Cos'√® il modello TCP/IP?</h5>
                        <p class="mb-2">
                            Il modello TCP/IP (Transmission Control Protocol/Internet Protocol) √® un modello di rete sviluppato dal 
                            <strong>DARPA</strong> (Defense Advanced Research Projects Agency) negli anni '70. A differenza del modello 
                            ISO/OSI teorico, TCP/IP √® nato dalla pratica ed √® diventato lo standard de facto per Internet.
                        </p>
                        <p class="mb-0">
                            Il modello TCP/IP semplifica i 7 livelli del modello OSI in soli 4 livelli, mantenendo tutte le funzionalit√† 
                            necessarie per le comunicazioni reali su Internet.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Torre TCP/IP -->
            <div class="row mb-5">
                <div class="col-12">
                    <h4 class="fw-bold mb-4 text-center">Torre del Modello TCP/IP</h4>
                    <p class="text-center text-muted mb-4">Clicca su un livello per esplorarne i protocolli</p>
                    
                    <div class="tcp-tower">
                        <!-- Livello 4: Applicazione -->
                        <div class="tcp-level tcp-level-4" onclick="showLevel('applicazione')" id="level-applicazione">
                            <div class="level-number">4</div>
                            <div class="level-content">
                                <div class="level-title">Livello Applicazione</div>
                                <div class="level-subtitle">HTTP, FTP, SMTP, DNS, SSH, DHCP</div>
                            </div>
                        </div>
                        
                        <!-- Livello 3: Trasporto -->
                        <div class="tcp-level tcp-level-3" onclick="showLevel('trasporto')" id="level-trasporto">
                            <div class="level-number">3</div>
                            <div class="level-content">
                                <div class="level-title">Livello Trasporto</div>
                                <div class="level-subtitle">TCP, UDP, SCTP</div>
                            </div>
                        </div>
                        
                        <!-- Livello 2: Internet -->
                        <div class="tcp-level tcp-level-2" onclick="showLevel('internet')" id="level-internet">
                            <div class="level-number">2</div>
                            <div class="level-content">
                                <div class="level-title">Livello Internet</div>
                                <div class="level-subtitle">IP, ICMP, ARP, OSPF, BGP</div>
                            </div>
                        </div>
                        
                        <!-- Livello 1: Accesso Rete -->
                        <div class="tcp-level tcp-level-1" onclick="showLevel('accesso')" id="level-accesso">
                            <div class="level-number">1</div>
                            <div class="level-content">
                                <div class="level-title">Livello Accesso alla Rete</div>
                                <div class="level-subtitle">Ethernet, Wi-Fi, PPP, Token Ring</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Protocolli per livello -->
            <div class="protocols-container" id="protocols-container">
                <h4 class="fw-bold mb-4 text-center" id="protocols-title">Seleziona un livello della Torre</h4>
                <p class="text-center text-muted mb-4" id="protocols-subtitle">I protocolli appariranno qui dopo aver selezionato un livello</p>
                
                <div class="row" id="protocols-list">
                    <!-- I protocolli verranno inseriti qui dinamicamente -->
                </div>
            </div>

            <!-- Dettagli Protocollo -->
            <div class="details-container" id="details-container">
                <div class="text-center py-5" id="default-details">
                    <i class="bi bi-info-circle text-muted" style="font-size: 4rem;"></i>
                    <h4 class="text-muted mt-3">Seleziona un protocollo</h4>
                    <p class="text-muted">Clicca su un protocollo per visualizzare le informazioni dettagliate</p>
                </div>
                
                <div id="protocol-details" style="display: none;">
                    <div class="details-header">
                        <h3 id="detail-title" class="fw-bold mb-2"></h3>
                        <div id="detail-subtitle" class="text-muted"></div>
                    </div>
                    <div id="detail-content" class="fade-in">
                        <!-- Il contenuto verr√† inserito qui dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Tabella comparativa TCP/IP vs OSI -->
            <div class="row mt-5">
                <div class="col-12">
                    <h4 class="fw-bold mb-4">üìä Confronto TCP/IP vs ISO/OSI</h4>
                    <div class="comparison-table">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th width="30%">Modello TCP/IP (4 livelli)</th>
                                    <th width="40%">Funzione Principale</th>
                                    <th width="30%">Corrispondenza ISO/OSI</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Applicazione</strong><br><small>HTTP, FTP, SMTP, DNS</small></td>
                                    <td>Interfaccia utente, servizi di rete, formattazione dati</td>
                                    <td>Livelli 5, 6, 7<br>(Sessione, Presentazione, Applicazione)</td>
                                </tr>
                                <tr>
                                    <td><strong>Trasporto</strong><br><small>TCP, UDP, SCTP</small></td>
                                    <td>Comunicazione end-to-end, controllo flusso, affidabilit√†</td>
                                    <td>Livello 4<br>(Trasporto)</td>
                                </tr>
                                <tr>
                                    <td><strong>Internet</strong><br><small>IP, ICMP, ARP</small></td>
                                    <td>Indirizzamento logico, routing, frammentazione</td>
                                    <td>Livello 3<br>(Rete)</td>
                                </tr>
                                <tr>
                                    <td><strong>Accesso Rete</strong><br><small>Ethernet, Wi-Fi, PPP</small></td>
                                    <td>Trasmissione fisica, indirizzamento fisico (MAC)</td>
                                    <td>Livelli 1, 2<br>(Fisico, Collegamento Dati)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Navigazione inferiore -->
            <div class="row mt-5">
                <div class="col-12 text-center">
                    <div class="btn-group" role="group">
                        <a href="index.html" class="btn btn-primary">
                            <i class="bi bi-arrow-left"></i> Torna alla Dashboard
                        </a>
                        <a href="confronto_tcp.html" class="btn btn-outline-primary">
                            <i class="bi bi-columns-gap"></i> Confronto Dettagliato
                        </a>
                        <a href="iso_osi_spiegazione.html" class="btn btn-outline-primary">
                            <i class="bi bi-layers"></i> Vedi Torre ISO/OSI
                        </a>
                        <button class="btn btn-outline-success" onclick="showSource()">
                            <i class="bi bi-code-slash"></i> Vedi Sorgente
                        </button>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Footer didattico -->
        <div class="footer-didattico">
            <a href="fonti_bibliografia.html" class="btn-fonti">
                üìö Consulta tutte le fonti e i riferimenti
            </a>
            <div style="color: #495057; font-size: 0.9rem; line-height: 1.6;">
                <div style="margin-bottom: 10px;">
                    <strong>Uso didattico</strong> - Art. 70 Legge 633/1941 sul Diritto d'Autore
                </div>
                <div style="color: #6c757d; font-size: 0.85rem;">
                    ¬© Corso di Reti e Telecomunicazioni<br>
                    Materiale didattico per uso educativo non commerciale
                </div>
            </div>
        </div>
    </div>

    <!-- Bottone Vedi Sorgente Fisso -->
    <button class="btn btn-dark btn-source" onclick="showSource()">
        <i class="bi bi-code-slash"></i> Vedi Sorgente
    </button>

    <!-- JavaScript -->
    <script>
        // Dati dei protocolli TCP/IP
        const tcpProtocols = {
            applicazione: {
                title: "Livello Applicazione",
                subtitle: "HTTP, FTP, SMTP, DNS, SSH, DHCP",
                description: "Combina le funzioni dei livelli 5, 6 e 7 del modello OSI. Fornisce servizi di rete direttamente alle applicazioni dell'utente.",
                protocols: [
                    {
                        id: 'http',
                        name: 'HTTP/HTTPS',
                        desc: 'HyperText Transfer Protocol (Sicuro)',
                        icon: 'üåç',
                        level: 'applicazione',
                        details: {
                            title: 'üåê HTTP/HTTPS - Protocollo di Trasferimento Ipertestuale',
                            subtitle: 'Porte: 80 (HTTP), 443 (HTTPS)',
                            content: `
                                <div class="detail-item">
                                    <div class="detail-label">üî§ Significato dell'acronimo</div>
                                    <div class="detail-value">
                                        <strong>HTTP</strong> = HyperText Transfer Protocol<br>
                                        <strong>HTTPS</strong> = HTTP Secure (HTTP con SSL/TLS)
                                    </div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">üéØ Funzione Principale</div>
                                    <div class="detail-value">
                                        HTTP √® il fondamento del Web. Permette al browser di comunicare con i server web per caricare pagine, immagini, video.
                                        HTTPS √® la versione crittografata che protegge i dati da intercettazioni.
                                    </div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">‚öôÔ∏è Caratteristiche Tecniche</div>
                                    <div class="detail-value">
                                        ‚Ä¢ <strong>Stateless</strong>: Ogni richiesta √® indipendente<br>
                                        ‚Ä¢ <strong>Request/Response</strong>: Modello client-server<br>
                                        ‚Ä¢ <strong>Metodi</strong>: GET, POST, PUT, DELETE, PATCH<br>
                                        ‚Ä¢ <strong>Stato</strong>: HTTP/1.1 (1997), HTTP/2 (2015), HTTP/3 (2022)
                                    </div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">üí° Esempio Pratico</div>
                                    <div class="detail-value">
                                        Quando digiti "https://www.google.com":<br>
                                        1. Browser invia HTTP GET al server Google<br>
                                        2. Google risponde con codice HTML della homepage<br>
                                        3. Browser interpreta HTML e mostra la pagina
                                    </div>
                                </div>
                            `
                        }
                    },
                    {
                        id: 'ftp',
                        name: 'FTP/SFTP',
                        desc: 'File Transfer Protocol (Sicuro)',
                        icon: 'üìÅ',
                        level: 'applicazione',
                        details: {
                            title: 'üìÅ FTP/SFTP - Protocollo di Trasferimento File',
                            subtitle: 'Porte: 21 (controllo), 20 (dati)',
                            content: `
                                <div class="detail-item">
                                    <div class="detail-label">üî§ Significato dell'acronimo</div>
                                    <div class="detail-value">
                                        <strong>FTP</strong> = File Transfer Protocol<br>
                                        <strong>SFTP</strong> = SSH File Transfer Protocol
                                    </div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">üéØ Funzione Principale</div>
                                    <div class="detail-value">
                                        Trasferimento file tra client e server su una rete. FTP √® il protocollo storico (1971), 
                                        SFTP √® la versione moderna e sicura che usa SSH per la crittografia.
                                    </div>
                                </div>
                            `
                        }
                    },
                    {
                        id: 'smtp',
                        name: 'SMTP',
                        desc: 'Simple Mail Transfer Protocol',
                        icon: '‚úâÔ∏è',
                        level: 'applicazione',
                        details: {
                            title: '‚úâÔ∏è SMTP - Protocollo di Trasferimento Email Semplice',
                            subtitle: 'Porte: 25 (standard), 587 (con autenticazione)',
                            content: `
                                <div class="detail-item">
                                    <div class="detail-label">üî§ Significato dell'acronimo</div>
                                    <div class="detail-value">
                                        <strong>SMTP</strong> = Simple Mail Transfer Protocol
                                    </div>
                                </div>
                            `
                        }
                    },
                    {
                        id: 'dns',
                        name: 'DNS',
                        desc: 'Domain Name System',
                        icon: 'üîç',
                        level: 'applicazione',
                        details: {
                            title: 'üîç DNS - Sistema dei Nomi di Dominio',
                            subtitle: 'Porta: 53 (TCP/UDP)',
                            content: `
                                <div class="detail-item">
                                    <div class="detail-label">üî§ Significato dell'acronimo</div>
                                    <div class="detail-value">
                                        <strong>DNS</strong> = Domain Name System
                                    </div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">üéØ Funzione Principale</div>
                                    <div class="detail-value">
                                        Il DNS √® "l'elenco telefonico di Internet". Traduce nomi di dominio leggibili 
                                        (come google.com) in indirizzi IP numerici (come 142.250.190.78) che i computer usano per comunicare.
                                    </div>
                                </div>
                            `
                        }
                    }
                ]
            },
            trasporto: {
                title: "Livello Trasporto",
                subtitle: "TCP, UDP, SCTP",
                description: "Corrisponde al livello 4 del modello OSI. Garantisce la comunicazione end-to-end tra host. Gestisce la segmentazione dei dati, il controllo di flusso e l'affidabilit√†.",
                protocols: [
                    {
                        id: 'tcp',
                        name: 'TCP',
                        desc: 'Transmission Control Protocol',
                        icon: 'üîÑ',
                        level: 'trasporto',
                        details: {
                            title: 'üîÑ TCP - Protocollo di Controllo della Trasmissione',
                            subtitle: 'Connection-oriented, affidabile',
                            content: `
                                <div class="detail-item">
                                    <div class="detail-label">üî§ Significato dell'acronimo</div>
                                    <div class="detail-value">
                                        <strong>TCP</strong> = Transmission Control Protocol
                                    </div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">üéØ Funzione Principale</div>
                                    <div class="detail-value">
                                        TCP garantisce una comunicazione <strong>affidabile, ordinata e senza errori</strong> tra due dispositivi. 
                                        √à "orientato alla connessione": prima di inviare dati, stabilisce un canale sicuro (three-way handshake).
                                    </div>
                                </div>
                            `
                        }
                    },
                    {
                        id: 'udp',
                        name: 'UDP',
                        desc: 'User Datagram Protocol',
                        icon: '‚ö°',
                        level: 'trasporto',
                        details: {
                            title: '‚ö° UDP - Protocollo Datagramma Utente',
                            subtitle: 'Connectionless, veloce, non affidabile',
                            content: `
                                <div class="detail-item">
                                    <div class="detail-label">üî§ Significato dell'acronimo</div>
                                    <div class="detail-value">
                                        <strong>UDP</strong> = User Datagram Protocol
                                    </div>
                                </div>
                            `
                        }
                    }
                ]
            },
            internet: {
                title: "Livello Internet",
                subtitle: "IP, ICMP, ARP, OSPF, BGP",
                description: "Corrisponde al livello 3 del modello OSI. Si occupa dell'indirizzamento logico, del routing e del frammentamento dei pacchetti attraverso reti multiple. √à il 'cuore' di Internet.",
                protocols: [
                    {
                        id: 'ip',
                        name: 'IP',
                        desc: 'Internet Protocol (IPv4/IPv6)',
                        icon: 'üìç',
                        level: 'internet',
                        details: {
                            title: 'üìç IP - Protocollo Internet',
                            subtitle: 'IPv4 (32-bit), IPv6 (128-bit)',
                            content: `
                                <div class="detail-item">
                                    <div class="detail-label">üî§ Significato dell'acronimo</div>
                                    <div class="detail-value">
                                        <strong>IP</strong> = Internet Protocol
                                    </div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">üéØ Funzione Principale</div>
                                    <div class="detail-value">
                                        IP √® il <strong>cuore di Internet</strong>. Assegna un indirizzo univoco a ogni dispositivo (indirizzo IP) 
                                        e instrada i pacchetti attraverso le reti usando algoritmi di routing.
                                    </div>
                                </div>
                            `
                        }
                    },
                    {
                        id: 'icmp',
                        name: 'ICMP',
                        desc: 'Internet Control Message Protocol',
                        icon: 'üì∂',
                        level: 'internet',
                        details: {
                            title: 'üì∂ ICMP - Protocollo Messaggi di Controllo Internet',
                            subtitle: 'Diagnostica e segnalazione errori',
                            content: `
                                <div class="detail-item">
                                    <div class="detail-label">üî§ Significato dell'acronimo</div>
                                    <div class="detail-value">
                                        <strong>ICMP</strong> = Internet Control Message Protocol
                                    </div>
                                </div>
                            `
                        }
                    }
                ]
            },
            accesso: {
                title: "Livello Accesso alla Rete",
                subtitle: "Ethernet, Wi-Fi, PPP, Token Ring",
                description: "Combina le funzioni dei livelli 1 e 2 del modello OSI. Definisce come i dati sono fisicamente trasmessi attraverso il mezzo di rete. Gestisce l'accesso al mezzo e l'indirizzamento fisico (MAC).",
                protocols: [
                    {
                        id: 'ethernet',
                        name: 'Ethernet',
                        desc: 'IEEE 802.3 (Reti cablate)',
                        icon: 'üîå',
                        level: 'accesso',
                        details: {
                            title: 'üîå Ethernet - Standard per Reti Locali Cablate',
                            subtitle: 'IEEE 802.3, velocit√† 10 Mbps - 100 Gbps',
                            content: `
                                <div class="detail-item">
                                    <div class="detail-label">üìã Specifica Tecnica</div>
                                    <div class="detail-value">
                                        <strong>Ethernet</strong> (IEEE 802.3) √® lo standard pi√π diffuso per le reti locali cablate (LAN).
                                    </div>
                                </div>
                            `
                        }
                    },
                    {
                        id: 'wifi',
                        name: 'Wi-Fi',
                        desc: 'IEEE 802.11 (Reti wireless)',
                        icon: 'üì∂',
                        level: 'accesso',
                        details: {
                            title: 'üì∂ Wi-Fi - Standard per Reti Locali Wireless',
                            subtitle: 'IEEE 802.11 a/b/g/n/ac/ax',
                            content: `
                                <div class="detail-item">
                                    <div class="detail-label">üìã Specifica Tecnica</div>
                                    <div class="detail-value">
                                        <strong>Wi-Fi</strong> (IEEE 802.11) √® la famiglia di standard per reti locali wireless.
                                    </div>
                                </div>
                            `
                        }
                    }
                ]
            }
        };

        // Stato corrente
        let currentLevel = null;
        let currentProtocol = null;

        // Inizializzazione
        document.addEventListener('DOMContentLoaded', function() {
            // Seleziona automaticamente il primo livello
            showLevel('applicazione');
        });

        // Mostra i protocolli di un livello
        function showLevel(levelId) {
            // Aggiorna lo stato
            currentLevel = levelId;
            currentProtocol = null;
            
            // Rimuovi classe active da tutti i livelli
            document.querySelectorAll('.tcp-level').forEach(el => {
                el.classList.remove('active');
            });
            
            // Aggiungi classe active al livello selezionato
            document.getElementById(`level-${levelId}`).classList.add('active');
            
            const level = tcpProtocols[levelId];
            
            // Aggiorna il titolo dell'area protocolli
            document.getElementById('protocols-title').textContent = level.title;
            document.getElementById('protocols-subtitle').textContent = level.description;
            
            // Genera i bottoni dei protocolli
            const protocolsList = document.getElementById('protocols-list');
            protocolsList.innerHTML = '';
            
            level.protocols.forEach(protocol => {
                const col = document.createElement('div');
                col.className = 'col-md-6 col-lg-4 mb-3';
                
                col.innerHTML = `
                    <button class="protocol-btn ${protocol.level}" onclick="showProtocol('${protocol.id}')">
                        <div class="protocol-icon">${protocol.icon}</div>
                        <div>
                            <div class="protocol-name">${protocol.name}</div>
                            <div class="protocol-desc">${protocol.desc}</div>
                        </div>
                    </button>
                `;
                
                protocolsList.appendChild(col);
            });
            
            // Reset dettagli
            resetDetails();
        }

        // Mostra i dettagli di un protocollo
        function showProtocol(protocolId) {
            // Trova il protocollo
            let targetProtocol = null;
            for (const level in tcpProtocols) {
                const protocol = tcpProtocols[level].protocols.find(p => p.id === protocolId);
                if (protocol) {
                    targetProtocol = protocol;
                    break;
                }
            }
            
            if (!targetProtocol) return;
            
            // Aggiorna lo stato
            currentProtocol = protocolId;
            
            // Rimuovi active da tutti i bottoni
            document.querySelectorAll('.protocol-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Aggiungi active al bottone cliccato
            document.querySelectorAll('.protocol-btn').forEach(btn => {
                if (btn.textContent.includes(targetProtocol.name)) {
                    btn.classList.add('active');
                }
            });
            
            // Mostra i dettagli
            const details = targetProtocol.details;
            document.getElementById('default-details').style.display = 'none';
            document.getElementById('protocol-details').style.display = 'block';
            document.getElementById('detail-title').textContent = details.title;
            document.getElementById('detail-subtitle').innerHTML = details.subtitle;
            document.getElementById('detail-content').innerHTML = details.content;
            
            // Scroll ai dettagli
            document.getElementById('details-container').scrollIntoView({ behavior: 'smooth' });
        }

        // Reset dettagli
        function resetDetails() {
            document.getElementById('default-details').style.display = 'block';
            document.getElementById('protocol-details').style.display = 'none';
            document.getElementById('detail-title').textContent = '';
            document.getElementById('detail-subtitle').textContent = '';
            document.getElementById('detail-content').innerHTML = '';
            
            // Rimuovi active dai bottoni
            document.querySelectorAll('.protocol-btn').forEach(btn => {
                btn.classList.remove('active');
            });
        }

        // Funzione per mostrare il sorgente
        function showSource() {
            const html = document.documentElement.outerHTML;
            const win = window.open("", "Sorgente", "width=900,height=700");
            win.document.write('<html><head><title>Sorgente Pagina</title></head><body>');
            win.document.write('<h3>Codice Sorgente della Pagina:</h3>');
            win.document.write('<pre style="background:#f4f4f4; padding:15px; border:1px solid #ccc; white-space: pre-wrap;">');
            win.document.write(html.replace(/</g, "&lt;").replace(/>/g, "&gt;"));
            win.document.write('</pre></body></html>');
            win.document.close();
        }
    </script>

</body>
</html>
